var colorjs=function(r){"use strict";var e=require("axios"),a=(r,e)=>{var a=r.map((r=>{var a=Array.isArray(r)?r:r.split(",").map(Number);return"hex"===e.format?o(a):a}));return 1===e.amount||1===a.length?a[0]:a},t=(r,e)=>{var a=Math.round(r/e)*e;return Math.min(a,255)},o=r=>"#"+r.map((r=>{var e=r.toString(16);return 1===e.length?"0"+e:e})).join(""),n=r=>new Promise(((a,t)=>{var o,n=document.createElement("canvas"),s=n.getContext("2d"),g=new Image;g.crossOrigin="",(o=r,new Promise(((r,a)=>{try{e.get(o,{responseType:"arraybuffer"}).then((e=>{var a=Buffer.from(e.data).toString("base64");r("data:"+e.headers["content-type"]+";base64,"+a)})).catch((e=>{console.error(e),r(void 0)}))}catch(r){a(r)}}))).then((r=>{g.src=r,g.onload=()=>{n.height=g.height,n.width=g.width,s.drawImage(g,0,0);var r=s.getImageData(0,0,g.width,g.height).data;a(r)},g.onerror=()=>t(Error("Image loading failed."))})).catch((r=>console.error("color.js",r)))})),s=(r,e)=>{for(var t=4*e.sample,o=r.length/t,n={r:0,g:0,b:0},s=0;s<r.length;s+=t)n.r+=r[s],n.g+=r[s+1],n.b+=r[s+2];return a([[Math.round(n.r/o),Math.round(n.g/o),Math.round(n.b/o)]],e)},g=(r,e)=>{for(var o=4*e.sample,n={},s=0;s<r.length;s+=o){var g=[t(r[s],e.group),t(r[s+1],e.group),t(r[s+2],e.group)].join();n[g]=n[g]?n[g]+1:1}return a(Object.entries(n).sort((([r,e],[a,t])=>e>t?-1:1)).slice(0,e.amount).map((([r])=>r)),e)},i=(r,e,a)=>new Promise(((t,o)=>n((r=>"string"==typeof r?r:r.src)(e)).then((e=>t(r(e,(({amount:r=3,format:e="array",group:a=20,sample:t=10}={})=>({amount:r,format:e,group:a,sample:t}))(a))))).catch((r=>o(r)))));return r.average=(r,e)=>i(s,r,e),r.prominent=(r,e)=>i(g,r,e),r}({});
